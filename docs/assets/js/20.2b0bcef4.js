(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{488:function(e,t,s){"use strict";s.r(t);var a=s(18),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"how-we-made-our-wordpress-website-unbreakable-cost-efficient-and-400-faster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-we-made-our-wordpress-website-unbreakable-cost-efficient-and-400-faster"}},[e._v("#")]),e._v(" How we made our WordPress website unbreakable, cost efficient and 400% faster")]),e._v(" "),s("BlogHeadline"),e._v(" "),s("p",[e._v("As more that 30% of the world 🌐 websites, SalesTim is using the WordPress CMS. But as a SAAS startup building Enterprise-Grade apps, we're VERY concerned about three key issues:")]),e._v(" "),s("ol",[s("li",[s("strong",[e._v("Secure by default")]),e._v(": Customer trust is key")]),e._v(" "),s("li",[s("strong",[e._v("User Experience")]),e._v(": We want to be the best-in-class")]),e._v(" "),s("li",[s("strong",[e._v("Performance")]),e._v(": Because it instrincally brings quality to systems")])]),e._v(" "),s("p",[e._v("Therefore, to be consistent with our values, we cannot stay anymore with a Wordpress hosting as-is, and we had to make a choice, that would bring the right balance between two goals:")]),e._v(" "),s("ul",[s("li",[e._v("Keep the power of WordPress as a web CMS")]),e._v(" "),s("li",[e._v("Bring all the key features of a static website")])]),e._v(" "),s("hr"),e._v(" "),s("p",[s("strong",[e._v("TABLE OF CONTENTS")])]),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#advantages-and-drawbacks"}},[e._v("Advantages and Drawbacks")]),s("ul",[s("li",[s("a",{attrs:{href:"#where-wordpress-shines"}},[e._v("Where WordPress shines")])]),s("li",[s("a",{attrs:{href:"#where-wordpress-falls-short"}},[e._v("Where WordPress falls short")])]),s("li",[s("a",{attrs:{href:"#🚄-wordpress-speed"}},[e._v("🚄 WordPress Speed")])]),s("li",[s("a",{attrs:{href:"#🔐-wordpress-security"}},[e._v("🔐 WordPress Security")])]),s("li",[s("a",{attrs:{href:"#💵-wordpress-costs"}},[e._v("💵 WordPress Costs")])])])]),s("li",[s("a",{attrs:{href:"#the-benefits-of-a-static-website"}},[e._v("The benefits of a static website")]),s("ul",[s("li",[s("a",{attrs:{href:"#🚄-static-website-speed"}},[e._v("🚄 Static Website Speed")])]),s("li",[s("a",{attrs:{href:"#🔐-static-website-security"}},[e._v("🔐 Static Website Security")])]),s("li",[s("a",{attrs:{href:"#💵-static-website-costs"}},[e._v("💵 Static Website Costs")])])])]),s("li",[s("a",{attrs:{href:"#ok-i-m-convinced-now-how-to-do-it"}},[e._v("OK I'm convinced, now how to do it?")]),s("ul",[s("li",[s("a",{attrs:{href:"#⚒-build-or-💸-buy"}},[e._v("⚒ Build or 💸 buy?")])]),s("li",[s("a",{attrs:{href:"#overview-of-our-solution"}},[e._v("Overview of our solution")])])])]),s("li",[s("a",{attrs:{href:"#results"}},[e._v("Results")])]),s("li",[s("a",{attrs:{href:"#to-go-further"}},[e._v("To go further")]),s("ul",[s("li",[s("a",{attrs:{href:"#🚀-azure-pipeline-automation"}},[e._v("🚀 Azure Pipeline automation")])]),s("li",[s("a",{attrs:{href:"#from-🐙-github-pages-to-azure-storage"}},[e._v("From 🐙 GitHub Pages to Azure Storage")])])])])])]),s("p"),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"advantages-and-drawbacks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#advantages-and-drawbacks"}},[e._v("#")]),e._v(" Advantages and Drawbacks")]),e._v(" "),s("h3",{attrs:{id:"where-wordpress-shines"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#where-wordpress-shines"}},[e._v("#")]),e._v(" Where WordPress shines")]),e._v(" "),s("p",[e._v("We love WordPress as a CMS because it has some unique and major advantages, especially:")]),e._v(" "),s("ul",[s("li",[e._v("Easy to setup")]),e._v(" "),s("li",[e._v("Easy to publish")]),e._v(" "),s("li",[e._v("An incredibly large community")]),e._v(" "),s("li",[e._v("A wide catalog of templates and plugins")]),e._v(" "),s("li",[e._v("Great SEO tools")])]),e._v(" "),s("h3",{attrs:{id:"where-wordpress-falls-short"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#where-wordpress-falls-short"}},[e._v("#")]),e._v(" Where WordPress falls short")]),e._v(" "),s("p",[e._v("But of course it has also its own drawbacks...")]),e._v(" "),s("h3",{attrs:{id:"🚄-wordpress-speed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🚄-wordpress-speed"}},[e._v("#")]),e._v(" 🚄 WordPress Speed")]),e._v(" "),s("p",[e._v('WordPress, as a "dynamic" site, uses a database in the backend to store its content. Therefore WordPress must fetch this content from the database and insert it into the webpage for each browser requests from the server, using PHP.'),s("br"),e._v(" "),s("em",[s("strong",[e._v("Sounds exhausting!")])])]),e._v(" "),s("p",[s("strong",[e._v("Impact")]),e._v(": You often have to tweak some assets (css, js...) and implement third-party plugins (cache, CDN...) to reach the speed you expect.\nMoreover, your *"),s("strong",[e._v("pages speed have a strong impact on SEO")]),e._v("- and your site ranking (Read more here "),s("a",{attrs:{href:"https://developers.google.com/web/updates/2018/07/search-ads-speed",target:"_blank",rel:"noopener noreferrer"}},[e._v('"Speed is now a landing page factor for Google Search and Ads"...'),s("OutboundLink")],1),e._v(")")]),e._v(" "),s("h3",{attrs:{id:"🔐-wordpress-security"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🔐-wordpress-security"}},[e._v("#")]),e._v(" 🔐 WordPress Security")]),e._v(" "),s("p",[e._v("With its large marketshare, WordPress is the target of many attacks.")]),e._v(" "),s("p",[s("strong",[e._v("Impact")]),e._v(": You have to be *"),s("strong",[e._v("extremely careful")]),e._v("- about the plus-ins you're using, and ensure that all available patchs (core and plugins) are applied in your own environments as soon as they're released.")]),e._v(" "),s("h3",{attrs:{id:"💵-wordpress-costs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#💵-wordpress-costs"}},[e._v("#")]),e._v(" 💵 WordPress Costs")]),e._v(" "),s("p",[e._v("Implement and manage a production-ready WordPress website could be tedious, and requires a not-so-light infrastructure to reach your desired resiliency:")]),e._v(" "),s("ul",[s("li",[e._v("Multiple instances")]),e._v(" "),s("li",[e._v("Clustered Database")]),e._v(" "),s("li",[e._v("Reverse proxy")]),e._v(" "),s("li",[e._v("Load-balancers")]),e._v(" "),s("li",[e._v("Backup / Restore / Disaster Recovery plans")])]),e._v(" "),s("p",[s("strong",[e._v("Impact")]),e._v(": Even with a cheap hoster, you could have expensive "),s("strong",[e._v("maintenance costs")]),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"the-benefits-of-a-static-website"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-benefits-of-a-static-website"}},[e._v("#")]),e._v(" The benefits of a static website")]),e._v(" "),s("p",[s("strong",[e._v("Static websites are super fast under heavy load, secure by design and almost free to host!")])]),e._v(" "),s("p",[s("em",[s("strong",[e._v("A static site??? Are you sure???")])])]),e._v(" "),s("h3",{attrs:{id:"🚄-static-website-speed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🚄-static-website-speed"}},[e._v("#")]),e._v(" 🚄 Static Website Speed")]),e._v(" "),s("p",[e._v("As you're only serving raw html content, without any server latency, it's "),s("strong",[e._v("insanely fast")]),e._v(", and can be easily improved with a CDN.")]),e._v(" "),s("h3",{attrs:{id:"🔐-static-website-security"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🔐-static-website-security"}},[e._v("#")]),e._v(" 🔐 Static Website Security")]),e._v(" "),s("p",[e._v("No server, no passwords, nada!"),s("br"),e._v("\nJust plain html content. It's *"),s("em",[e._v("secure by design")]),e._v("- and almost unbreakable.")]),e._v(" "),s("h3",{attrs:{id:"💵-static-website-costs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#💵-static-website-costs"}},[e._v("#")]),e._v(" 💵 Static Website Costs")]),e._v(" "),s("p",[e._v("Ultra-low CPU / RAM / Storage, and "),s("strong",[e._v("no infrastructure needed")]),e._v("!"),s("br"),e._v("\nJust keep a small offline wordpress instance as a content staging platform.")]),e._v(" "),s("h2",{attrs:{id:"ok-i-m-convinced-now-how-to-do-it"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ok-i-m-convinced-now-how-to-do-it"}},[e._v("#")]),e._v(" OK I'm convinced, now how to do it?")]),e._v(" "),s("h3",{attrs:{id:"⚒-build-or-💸-buy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#⚒-build-or-💸-buy"}},[e._v("#")]),e._v(" ⚒ Build or 💸 buy?")]),e._v(" "),s("p",[e._v("Our first approach had been to look at several WordPress plugins to achieve this, especially:")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.simplystatic.co/",target:"_blank",rel:"noopener noreferrer"}},[e._v("SimplyStatic"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://wp2static.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("WP2Static"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("But none of them matched our expectations.")]),e._v(" "),s("h3",{attrs:{id:"overview-of-our-solution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#overview-of-our-solution"}},[e._v("#")]),e._v(" Overview of our solution")]),e._v(" "),s("p",[e._v("So we decided to build our own WordPress static generator!")]),e._v(" "),s("p",[e._v("The process was pretty straightforward and took only a few days 📅:")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[e._v("Step")]),e._v(" "),s("th",[e._v("Description")])])]),e._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[e._v("*"),s("em",[e._v("1")]),e._v("-")]),e._v(" "),s("td",[e._v("Create a private GitHub repository with a public GitHub Pages hosting")])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[e._v("*"),s("em",[e._v("2")]),e._v("-")]),e._v(" "),s("td",[e._v('Configure GitHub Pages to point to an "uat" url for testing purposes')])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[e._v("*"),s("em",[e._v("3")]),e._v("-")]),e._v(" "),s("td",[e._v("Configure GitHub Pages to enforce https")])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[e._v("*"),s("em",[e._v("4")]),e._v("-")]),e._v(" "),s("td",[e._v("Create an Azure Pipeline to automate the static website generation")])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[e._v("*"),s("em",[e._v("5")]),e._v("-")]),e._v(" "),s("td",[e._v("Validate the static site behavior and fix the latest issues (CDN, AMP...)")])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[e._v("*"),s("em",[e._v("6")]),e._v("-")]),e._v(" "),s("td",[e._v('Replace our public WordPress url to a "staging" url')])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[e._v("*"),s("em",[e._v("7")]),e._v("-")]),e._v(" "),s("td",[e._v('Update GitHub Pages to point to our "www" public url')])])])]),e._v(" "),s("p",[e._v("{:.table-dark .table-sm .table-striped}")]),e._v(" "),s("h2",{attrs:{id:"results"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#results"}},[e._v("#")]),e._v(" Results")]),e._v(" "),s("p",[e._v("At SalesTim, we have a real passion for speed..."),s("br"),e._v("\nPlease have a look à our three websites and give us your feedbacks:")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.salestim.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("SalesTim / Website"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://help.salestim.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("SalesTim / Help Center"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("Want a quick comparison between the latest and the new version?\nLook at our Google PageSpeed Insights ⏳:\n"),s("img",{attrs:{src:"/assets/images/PageSpeedInsights.png",alt:"Google PageSpeed Insights"}})]),e._v(" "),s("p",[e._v("As you can see, the speed index decreased 📉 "),s("strong",[e._v("from 7.5s to 1.8s")]),e._v(". Not too bad isn't it 😉?")]),e._v(" "),s("h2",{attrs:{id:"to-go-further"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#to-go-further"}},[e._v("#")]),e._v(" To go further")]),e._v(" "),s("p",[e._v("Of course reaching and maintaining a high-performance website is a long and continuous process."),s("br"),e._v("\nHere are a few other areas of investment that we're currently working on that may interest you, so stay tuned for later posts.")]),e._v(" "),s("h3",{attrs:{id:"🚀-azure-pipeline-automation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🚀-azure-pipeline-automation"}},[e._v("#")]),e._v(" 🚀 Azure Pipeline automation")]),e._v(" "),s("p",[e._v("Today, the Azure Pipeline in charge of building the static website has to be launched manually. It's not a pleasant experience for content editors.\nSo we're planning to trigger the build through a WordPress webhook.")]),e._v(" "),s("h3",{attrs:{id:"from-🐙-github-pages-to-azure-storage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#from-🐙-github-pages-to-azure-storage"}},[e._v("#")]),e._v(" From 🐙 GitHub Pages to Azure Storage")]),e._v(" "),s("p",[e._v("The GitHub Pages hosting is temporary by nature, as it's subject to some usage limits:")]),e._v(" "),s("ul",[s("li",[e._v("GitHub Pages source repositories have a recommended limit of 1GB.")]),e._v(" "),s("li",[e._v("Published GitHub Pages sites may be no larger than 1 GB.")]),e._v(" "),s("li",[e._v("GitHub Pages sites have a soft bandwidth limit of 100GB per month.")]),e._v(" "),s("li",[e._v("GitHub Pages sites have a soft limit of 10 builds per hour.")])]),e._v(" "),s("p",[e._v("But above all, "),s("a",{attrs:{href:"https://help.github.com/en/articles/what-is-github-pages",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub Pages is not allowed to be used as a free web hosting service"),s("OutboundLink")],1),e._v(" to run an online business. So even if we're still under the radar, we'll soon move to "),s("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blob-static-website",target:"_blank",rel:"noopener noreferrer"}},[e._v("Static website hosting in Azure Storage"),s("OutboundLink")],1)]),e._v(" "),s("Comments")],1)}),[],!1,null,null,null);t.default=r.exports}}]);